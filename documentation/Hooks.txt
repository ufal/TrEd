User definable hooks in TrEd
============================

Before and sometimes after some action is performed, TrEd tries to
call a user defined hook function. These function may be used to alter
TeEd's default behaviour or even to prevent the execution of the
planned action. If the later is the case, the hook function must
return a scalar value of "stop". Here is the list of defined hook
functions with a description of the parameters passed to them by TrEd.


hook	       parameters	       stop   description
----------------------------------------------------------------------

start_hook	none			yes	executed before the
						MainLoop is entered

exit_hook	none			no	executed when
						top-level window is
						destroyed, before
						askSaveFile is executed
do_edit_attrs_hook

enable_attr_hook                                

edit_attr_hook	attr,type		yes	executed before
						attribute "attr" is edited by
						user in a GUI. Type "type"
						may be one of "ambiguous","normal"

goto_file_hook				yes	executed before every
						gotoFile command is executed

goto_tree_hook				yes	executed before every
						gotoTree command is executed


file_opened_hook			no	executed after a file
						is opened but before 
						first tree is redrawed

file_resumed_hook			no	executed after a
						postponed file
						is resumed

pre_switch_context_hook			yes	executed before
						context is
						switched. Takes two
						argumetns:
						the name of the
						current context and
						the name of the new context.

about_file_hook				no	executed before About
						window is
						displayed. Takes one
						argument: a reference
						to scalar
						variable. Hook may
						populate this scalar
						with any information
						it wants to be
						displayed in the About
						window.

customize_attrs_hook			yes	executed before a
						attribute
						customization dialog
						is displayed

sort_attrs_hook				no	executed when
						attribute names are
						pre-sorted (see TrEd's
						sortAttributes
						option). It is given a
						reference to an
						unsorted list of attributes. If
						non-zero value is retured,
						the (possibly
						modified by the hook)
						list is used without
						any further sorting.

NOTE:
Unlike other macros, hooks are expected not to modify the file. If the
file is modified, the hook-function should set the $FileNotSaved
variable to 1. Also no getNodes or setCurrent or redraw_tree or
centerTo is performed when a hook is called!