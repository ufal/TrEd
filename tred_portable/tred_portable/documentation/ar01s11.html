<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>11. Printing Trees</title><link rel="stylesheet" href="blue.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="tred.html" title="TrEd User's Manual"><link rel="up" href="tred.html" title="TrEd User's Manual"><link rel="prev" href="ar01s10.html" title="10. Customizing Tree Appearance: Stylesheets"><link rel="next" href="ar01s12.html" title="12. Using File Lists"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">11. Printing Trees</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ar01s10.html">Prev</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ar01s12.html">Next</a></td></tr></table><hr></div><div class="section" title="11. Printing Trees"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="printing"></a>11. Printing Trees</h2></div></div></div><p>
      <span class="application">TrEd</span> is
      able to render trees to PostScript,
      Encapsulated PostScript (EPS), and Portable
      Document Format (PDF). 
      Should the trees contain non-latin
      (iso-8859-1, iso-8859-2, windows-1250, etc.) characters,
      such as Arabic, the PDF might be the only option,
      because of its support for TrueType fonts.
    </p><p>
      If <a class="ulink" href="http://www.imagemagick.org" target="_top">ImageMagick</a>
      toolkit is installed, TrEd can also automatically convert the
      result into one of many bitmap image formats supported by this
      toolkit.</p><p>  While PostScript is the default printing format on
      most Unix/Linux systems (and can be printed using the standard
      <span class="command"><strong>lpr</strong></span> command), Windows users
      may use for example <a class="ulink" href="http://www.adobe.com/products/acrobat/readermain.html" target="_top">Adobe
      Acrobat Reader</a> to preview and print trees rendered into
      PDF. There are also some free PostScript interpreters for
      Windows (see <a class="ulink" href="http://www.cs.wisc.edu/~ghost/" target="_top">GhostView</a>).
    </p><div class="figure"><a name="id570653"></a><p class="title"><b>Figure 8. Print dialog
      </b></p><div class="figure-contents"><div class="mediaobject"><img src="pics/tredprint.png" alt="print dialog"></div></div></div><br class="figure-break"><p>
      Encapsulated PostScript files (<code class="literal">EPS</code>) are especially useful for
      preparation of other printed materials e.g. <span class="application">PDF</span> of <span class="application">LaTeX</span> documents. Compared to
      bitmapped images, EPS images have the advantage of being
      scalable.  Most office suits (such as Microsoft Office and
      OpenOffice.org) have at least limited support for EPS.  Similar
      results can be obtained by using <span class="application">PDF</span>
      with <code class="literal">BBox</code> media size.
    </p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
	TrEd's ability to render PostScript
	and EPS is limitted to Eastern European character sets.
	For other charsets and unicode (especially when TrEd
	runs on a unicode aware versions of
	<code class="literal">Perl</code> and <code class="literal">Tk</code>,
	i.e. at least <code class="literal">Perl 5.8</code> and
	<code class="literal">Tk804</code>), PDF print format is recommended.
      </p></div><p>
      Printing into PDF requires a TrueType font containing at
      least the glyphs used in the tree.  For most languages,
      the usual fonts such as Arial
      (<code class="literal">arial.ttf</code>), Times New Roman
      (<code class="literal">times.ttf</code>) or Bitstream Vera
      (<code class="literal">vera.ttf</code>) are sufficient while other
      languages, such as Arabic, require a fully featured
      Unicode font such as <code class="literal">Arial Unicode MS</code>.
      The TrueType font can be specified either directly
      from the Print dialog or by setting <a class="link" href="ar01s13.html#ttfont"><code class="literal">TTFont</code></a>
      configuration option. If <code class="literal">TTFont</code>
      is not given, it defaults to <code class="literal">Arial</code>. 
      TrEd searches for TrueType fonts in directories listed in
      <a class="link" href="ar01s13.html#ttfontpath"><code class="literal">TTFontPath</code></a>
      configuration option. If this option is not explicitly
      specified, TrEd uses directories listed in 
      fontconfig library configuration file
      <code class="literal">/etc/fonts/fonts.conf</code> on Unix
      and Windows system font directory on Windows.
      If no usable font is found, PDF printing is disabled.
    </p><p>
      For PostScript printing, <span class="application">TrEd</span>
      uses a Type1 font.  The file containing the font may be
      specified using the <a class="link" href="ar01s13.html#psfontfile"><code class="literal">PsFontFile</code></a>
      (and optionally <a class="link" href="ar01s13.html#psfontafmfile"><code class="literal">PsFontAFMFile</code></a>)
      configuration option.
    </p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p>
	  In the <span class="guilabel">Print</span> dialog you can specify a printing command to
	  be used or (if <span class="guilabel">Print to file</span> is checked) a filename of the
	  destination file.
	</p></li><li class="listitem"><p>
	  You can also specify a media-type (paper format)
	  in the <span class="guilabel">Media</span> roll-out menu, page
	  width and height (in case of <code class="literal">User</code>
	  media-type), and horizontal and vertical margins.
	  If the printed tree exceeds specified page
	  boundaries, it is automatically shrunk and
	  (unless <span class="guilabel">Disable landscape rotation of wide
	    trees</span> is selected) rotated to fit on the
	  page. See <a class="link" href="ar01s13.html#psmedia"><code class="literal">PSMedia</code></a>
	  configuration option for a list of supported media
	  formats.
	</p></li><li class="listitem"><p>
	  The output format is specified by
	  selecting one of <span class="guilabel">Create PostScript</span>,
	  <span class="guilabel">Create EPS</span>, <span class="guilabel">Create
	    PDF</span> and  <span class="guilabel">Convert according to
	    ImageMagick</span> buttons.
	</p></li><li class="listitem"><p>If <a class="ulink" href="http://www.imagemagick.org" target="_top">ImageMagick</a>
	  utilities are installed on the system,
	  then automatic conversion to one of many image formats
	  is supported. To use it, first check the
	  <span class="guilabel">Convert according to file
	    extension</span> button, then select a desired
	  pixel resolution for conversion to bitmap, and finally
	  edit the output filename extension to that of the
	  desired output file-format such as
	  <code class="filename">.png</code> or
	  <code class="filename">.jpg</code>.  When converting
	  to a bitmap, <span class="guilabel">Resolution</span> may be specified to
	  adjust the mapping between PostScript coordinate
	  system units (given in 1/72 inch) to raster pixels.
	</p></li><li class="listitem"><p>
	  If you also want the <span class="quote">&#8220;<span class="quote">sentence</span>&#8221;</span> of the tree
	  (i.e. the usual annotation mode of the text window above the tree)
	  to be printed under the tree, check the <span class="guilabel">Print sentence</span> button.
	</p></li><li class="listitem"><p>
	  It is possible to print more than one tree (each tree then
	  appears either on a separate page or in a separate file).
	  To do so, a comma-separated list of tree numbers or ranges
	  of tree numbers that correspond to the desired trees in the
	  active file, must be entered into the <span class="guilabel">Page range</span> field.  The
	  <span class="inlinemediaobject"><img src="pics/1leftarrow.png" alt="left-arrow"></span>
	  button is be used to automatically insert a page range
	  corresponding to sentences selected via <a class="link" href="ar01s05.html#list_of_sentences" title="5.4.1. List of sentences ..."><span class="guimenu">View</span> &#8594; <span class="guimenuitem">List of Sentences...</span></a>. A different selection based on
	  <span class="quote">&#8220;<span class="quote">sentences</span>&#8221;</span> can be made by pressing the button
	  <span class="inlinemediaobject"><img src="pics/contents.png" alt="contents"></span>.
	</p></li><li class="listitem"><p><a name="page_range"></a>
	  If entered manually, the page range must be specified
	  according to the following rules: Trees in the file are
	  numbered starting from 1. Ranges are pairs of numbers of the
	  form <span class="quote">&#8220;<span class="quote"><code class="literal">3-20</code></span>&#8221;</span>
	  (which in this case covers all trees starting from the tree
	  no. 3 to no. 20).  If the first number in the range is
	  omitted, 1 is assumed. If the second number in the range is
	  ommited, the number of the last tree in the active file is
	  assumed.  The order of the tree numbers given in the list is
	  strictly reflected in the output file, which also means that
	  ceratin tree can be printed more than once.
	  </p><div class="note" title="Example:" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Example:</h3><p>
	      To print trees from 1 to 5, then trees no. 7, 11, 12 and 5
	      again, use e.g. one of the following lists:
	      </p><table border="0" summary="Simple list" class="simplelist"><tr><td><code class="literal">1-5,7,11,12,5</code></td></tr><tr><td><code class="literal">1-5,7,11-12,5</code></td></tr><tr><td><code class="literal">-5,7,11-12,5</code></td></tr></table><p>
	    </p></div><p>
	</p></li></ul></div><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
	Printing trees can also be automated by writing a suitable
	macro. For this purpose, TrEd API offers the function
	<code class="literal">Print</code> (see <a class="xref" href="ar01s15.html#defaultmacros" title="15.8. Public API: pre-defined macros">Section 15.8, &#8220;Public API: pre-defined macros&#8221;</a>). This function however requires
	TrEd GUI, i.e. it cannot be run in <span class="command"><strong>btred</strong></span>.
      </p><div class="example"><a name="id571145"></a><p class="title"><b>Example 1. Printing trees from a user-defined macro</b></p><div class="example-contents"><pre class="programlisting">
	  
# bind key p to CreateImages menu Create bitmap images of all trees
sub CreateImages {
   GotoTree(1);
   my $tree_no = 1;
   my $name = FileName();
   $name =~ s/\..*//; # strip filename suffix
   do {{
      TredMacro::Print(
	 -toFile =&gt; 1,
	 -format =&gt; 'ImageMagick',
	 -imageMagickResolution =&gt; 90,
	 -colors =&gt; 1,
	 -sentenceInfo =&gt; 1,
	 -filename =&gt; "${name}_${tree_no}.png"
       );
      $tree_no++;
   }} while NextTree();
}	  

	</pre></div></div><br class="example-break"></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ar01s10.html">Prev</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ar01s12.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">10. Customizing Tree Appearance: Stylesheets </td><td width="20%" align="center"><a accesskey="h" href="tred.html">Home</a> | <a accesskey="t" href="ar01-toc.html">ToC</a></td><td width="40%" align="right" valign="top"> 12. Using File Lists</td></tr></table></div></body></html>
