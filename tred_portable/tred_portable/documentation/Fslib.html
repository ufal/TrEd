<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head><title>Fslib documentation</title>
	<meta name="description" content="Pod documentation for Fslib"></meta>
	<meta name="inputfile" content="/home/pierre/ufal_work/install_script/cistinka/dist/tred.new/documentation/pod/Fslib.pod"></meta>
	<meta name="outputfile" content="&lt;standard output&gt;"></meta>
	<meta name="created" content="Mon Mar 28 17:45:22 2011"></meta>
	<meta name="generator" content="Pod::Xhtml 1.61"></meta>
<link rel="stylesheet" href="blue.css"></link></head>
<body><h1>Fslib documentation</h1>
<div class="pod">
<!-- INDEX START -->
<h3 id="TOP">Table of contents</h3>

<ul><li><a href="#NAME">NAME</a></li>
<li><a href="#DESCRIPTION">DESCRIPTION</a></li>
<li><a href="#PORTING_TO_Treex_PML">PORTING TO Treex::PML</a></li>
<li><a href="#SEE_ALSO">SEE ALSO</a></li>
<li><a href="#COPYRIGHT_AND_LICENSE">COPYRIGHT AND LICENSE</a></li>
<li><a href="#BUGS">BUGS</a>
</li>
</ul><hr></hr>
<!-- INDEX END -->

<h1 id="NAME">NAME</h1><p><a href="#TOP" class="toplink">ToC</a></p>
<div id="NAME_CONTENT">
<p>Fslib - compatibility module, use Treex::PML for new projects instead!</p>

</div>
<h1 id="DESCRIPTION">DESCRIPTION</h1><p><a href="#TOP" class="toplink">ToC</a></p>
<div id="DESCRIPTION_CONTENT">
<p>DEPRECATED!</p>
<p>This module is provided for backward compatibility only. Please use
Treex::PML instead!</p>
<p>The module defines Fslib and FSFile (almost by importing/deriving from
Treex::PML and Treex::PML::Document) and provides the following
package aliasing:</p>
<pre>    FSNode           =&gt; Treex::PML::Node
    FSFormat         =&gt; Treex::PML::FSFormat
    FSBackend        =&gt; Treex::PML::Backend::FS
    IOBackend        =&gt; Treex::PML::IO
    PMLBackend       =&gt; Treex::PML::Backend::PML
    PMLSchema        =&gt; Treex::PML::Schema
    PMLInstance      =&gt; Treex::PML::Instance

    Fslib::Struct    =&gt; Treex::PML::Struct
    Fslib::List      =&gt; Treex::PML::List
    Fslib::Alt       =&gt; Treex::PML::Alt
    Fslib::Seq       =&gt; Treex::PML::Seq
    Fslib::Container =&gt; Treex::PML::Container
    Fslib::Attribute =&gt; Treex::PML::Attribute

</pre>
<p>To force creation of objects from the old Fslib family of classes
(left) rather than from the new Treex::PML family (right) in factory
calls, set the environment variable FORCE_FS_CLASSES to 1 or call</p>
<pre>	Fslib::Factory-&gt;make_default();

</pre>

</div>
<h1 id="PORTING_TO_Treex_PML">PORTING TO Treex::PML</h1><p><a href="#TOP" class="toplink">ToC</a></p>
<div id="PORTING_TO_Treex_PML_CONTENT">
<p>In order to port code using the old Fslib interfaces to Treex::PML, one has to do the following steps:</p>
<ul>
		<li>Replace 'use Fslib' with 'use Treex::PML'.	</li>
		<li>Replace 'use OldClass' with 'use NewClass' according to the package
aliasing map given above.	</li>
		<li>Replace all explicit calls to constructors with calls to the
Treex::PML::Factory creators. Here are the rules:
<br></br><br></br><pre>  FSFile-&gt;newFSFile($filename,$enc,\@backends)
    --&gt; Treex::PML::Factory-&gt;createDocumentFromFile($filename,{
          encoding=&gt;$enc,
          backends=&gt;\@backends
        })

</pre>
<br></br><br></br><pre>  FSFile-&gt;load($filename,{...}) --&gt; Treex::PML::Factory-&gt;createDocumentFromFile($filename,{encoding=&gt;$enc,{...})

</pre>
<br></br><br></br><pre>  FSFile-&gt;new() --&gt; Treex::PML::Factory-&gt;createDocument()

</pre>
<br></br><br></br><pre>  FSFile-&gt;create({...}) --&gt; Treex::PML::Factory-&gt;createDocument({...})

</pre>
<br></br><br></br><pre>  FSNode-&gt;new(...); $node-&gt;set_type($type)
     --&gt; Treex::PML::Factory-&gt;createTypedNode($type,...)

</pre>
<br></br><br></br><pre>  FSNode-&gt;new(...); $node-&gt;set_type_by_name($schema,$type_name);
     --&gt; Treex::PML::Factory-&gt;createTypedNode($type_name,$schema,...)

</pre>
<br></br><br></br><pre>  FSNode-&gt;new(...)
     --&gt; Treex::PML::Factory-&gt;createNode(...)

</pre>
<br></br><br></br><pre>  Fslib::Struct-&gt;new(...)
     --&gt; Treex::PML::Factory-&gt;createStructure(...)

</pre>
<br></br><br></br><pre>  Fslib::Seq-&gt;new(...)
     --&gt; Treex::PML::Factory-&gt;createSeq(...)

</pre>
<br></br><br></br><pre>  Fslib::Container-&gt;new(...)
     --&gt; Treex::PML::Factory-&gt;createContainer(...)

</pre>
<br></br><br></br><pre>  Fslib::List-&gt;new(@array)
     --&gt; Treex::PML::Factory-&gt;createList(\@array)
     or
     --&gt; Treex::PML::Factory-&gt;createList([@array],1)

</pre>
<br></br><br></br><pre>  Fslib::List-&gt;new_from_ref($array_ref,$reuse)
     --&gt; Treex::PML::Factory-&gt;createList($array_ref,$reuse)

</pre>
<br></br><br></br><pre>  Fslib::Alt-&gt;new(@array)
     --&gt; Treex::PML::Factory-&gt;createAlt(\@array)
     or
     --&gt; Treex::PML::Factory-&gt;createAlt([@array],1)

</pre>
<br></br><br></br><pre>  Fslib::Alt-&gt;new_from_ref($array_ref,$reuse)
     --&gt; Treex::PML::Factory-&gt;createAlt($array_ref,$reuse)

</pre>
<br></br><br></br>



<br></br><br></br><pre>  PMLInstance-&gt;new()
     --&gt; Treex::PML::Factory-&gt;createPMLInstance(...)

</pre>
<br></br><br></br><pre>  PMLInstance-&gt;load(...)
     --&gt; Treex::PML::Factory-&gt;createPMLInstance(...)

</pre>
<br></br><br></br>



<br></br><br></br><pre>  PMLSchema-&gt;new()
     --&gt; Treex::PML::Factory-&gt;createPMLSchema(...)

</pre>
<br></br><br></br><pre>  PMLSchema-&gt;load(...)
     --&gt; Treex::PML::Factory-&gt;createPMLSchema(...)

</pre>
<br></br><br></br><pre>  FSFormat-&gt;create(@header)
     --&gt; Treex::PML::Factory-&gt;createFSFormat(\@header)

</pre>
<br></br><br></br><pre>  FSFormat-&gt;new($hashRef)
     --&gt; Treex::PML::Factory-&gt;createFSFormat($hashRef)

</pre>
<br></br><br></br><pre>  FSFormat-&gt;readFrom(\@header)
     --&gt; Treex::PML::Factory-&gt;createFSFormat(\@header)

</pre>
<br></br><br></br><pre>  FSFormat-&gt;readFrom(FILEHANDLE)
     --&gt; Treex::PML::Factory-&gt;createFSFormat(FILEHANDLE)

</pre>	</li>
		<li>Replace calls like:
<br></br><br></br><pre>  UNIVERSAL::isa($object,'OldClass')
  $object-&gt;isa($object,'OldClass')
  ref($object) eq 'OldClass'

</pre>
<br></br><br></br>with
<br></br><br></br><pre>  Treex::PML::does($object,'NewClass');

</pre>
<br></br><br></br>or
<br></br><br></br><pre>  use UNIVERSAL::DOES;

</pre>
<br></br><br></br><pre>  UNIVERSAL::DOES::does($object,'NewClass');

</pre>	</li>
		<li>Replace calls to obsolete Fslib functions (possibly imported!) with
the corresponding object method calls.
<br></br><br></br>This is how to rewrite the functions Fslib exported by default (note
that they may appear unqualified in user code):
<br></br><br></br><pre>  Next($node)       --&gt; $node-&gt;following
  Prev($node)       --&gt; $node-&gt;previous
  DeleteLeaf($node) --&gt; $node-&gt;destroy_leaf
  Cut($node)        --&gt; $node-&gt;cut()

</pre>
<br></br><br></br>This is how to rewrite calls to other Fslib functions (note that they
may therefore appear unqualified in the user code if they were
explicitly imported):
<br></br><br></br><pre>  Fslib::Paste($node,$parent,$ord)  --&gt; $node-&gt;paste_on($parent,$ord)
  Fslib::Parent($node)              --&gt; $node-&gt;parent
  Fslib::LBrother($node)            --&gt; $node-&gt;lbrother
  Fslib::RBrother($node)            --&gt; $node-&gt;rbrother
  Fslib::FirstSon($node)            --&gt; $node-&gt;firstson

</pre>
<br></br><br></br>The following functions should never be used in code ported to
Treex::PML (use node methods paste_on(), paste_after(), and
paste_before() instead):
<br></br><br></br><pre>  Fslib::SetParent($node,$parent)     --&gt; DON'T USE, $node-&gt;set_parent($parent) if you must!
  Fslib::SetLBrother($node,$brother)  --&gt; DON'T USE, $node-&gt;set_lbrother($brother) if you must!
  Fslib::SetRBrother($node,$brother)  --&gt; DON'T USE, $node-&gt;set_rbrother($brother) if you must!
  Fslib::SetFirstSon($node,$son)      --&gt; DON'T USE, $node-&gt;set_firstson($son) if you must!

</pre>
<br></br><br></br>Although all these functions are also available in Treex::PML
(implementing the rewritten version according to the above rules),
none of them is exported by the Treex::PML module by default and it is
recommended to avoid them.	</li>
		<li>Replace remaining package function calls with new package function calls, i.e. rewrite
<br></br><br></br><pre>  OldClass::function(...);

</pre>
<br></br><br></br>to
<br></br><br></br><pre>  NewClass::function(...);

</pre>
<br></br><br></br>according to the aliasing map given above.</li>
</ul>


</div>
<h1 id="SEE_ALSO">SEE ALSO</h1><p><a href="#TOP" class="toplink">ToC</a></p>
<div id="SEE_ALSO_CONTENT">
<p><a class="pod_xhtml_bounce_url" href="Treex__PML.html">Treex::PML</a></p>

</div>
<h1 id="COPYRIGHT_AND_LICENSE">COPYRIGHT AND LICENSE</h1><p><a href="#TOP" class="toplink">ToC</a></p>
<div id="COPYRIGHT_AND_LICENSE_CONTENT">
<p>Copyright (C) 2010 by Petr Pajas</p>
<p>This library is free software; you can redistribute it and/or modify
it under the same terms as Perl itself, either Perl version 5.8.2 or,
at your option, any later version of Perl 5 you may have available.</p>

</div>
<h1 id="BUGS">BUGS</h1><p><a href="#TOP" class="toplink">ToC</a></p>
<div id="BUGS_CONTENT">
<p>None reported... yet.</p>

</div>
</div></body>
</html>
